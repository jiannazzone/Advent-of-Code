//var allRows = ['..##.......','#...#...#..','.#....#..#.','..#.#...#.#','.#...##..#.','..#.##.....','.#.#.#....#','.#........#','#.##...#...','#...##....#','.#..#...#.#'];
var allRows = ['.#..........#...#...#..#.......','.###...#.#.##..###..#...#...#..','#.....#................#...#.#.','#.....#..###.............#....#','......#.....#....#...##.....###','....#........#.#......##....#.#','..#.......##..#.#.#............','#.............#..#...#.#...#...','.#...........#.#....#..##......','......#..##..#....#....#...##..','....#.##.#####..#.##..........#','..#.#......#.#.#....#.....#....','...###.##......#..#.#...#...#..','...#..#.#..#..#.......#........','...#....#..#...........#.#.....','....#.........###.#....#...#...','....#..##.....#.##....##.#.....','........#.#.#.....#........#...','..#..#.....#.#...#.#...#.#.....','....#..........#....#....#...##','.##...#..#...##....#..#.#....#.','.#....##..#...#................','..#.###.........#.###.....#....','....#..#.......###.#...........','#...#...#.#...........#.#......','.#..#.......##.....##...#......','....####.#..#.#.#...........#..','.##...#..#..#.#....##.....#..##','...#......##....#...#.#.###....','##.#...........#.........#...#.','...........#...#...........##..','.....#....#...........#........','...#..#.........#...#....#.##..','.....##.........#...#........##','....#....#..#.#...#...##.#.....','...#.#..#...#...........#..#...','.....#.#.....#....#...#....#...','.#.............#..##..........#','..........#......#..##.....###.','..#....#........#.#.....##...#.','#..#......#.#.##......#.#.##...','.....#..#.........#...#.#.#.#.#','#.#...#.......#.#..##.##.....##','.....#......##......#.......#..','#.....#...##.#.#........#......','#..........#.#...#.......#.....','..#..#........#........#.......','...#....#....#..####.#....#...#','#.............#.....##....#..#.','##....#.....###..##....#......#','#.....#...#.#.............#....','.#.#..##..##.#..#....#.#.#...#.','.#...#..#.....#..#.#.#..#...##.','..#.#.#.#.#.#....##...#........','.......##.....#..........#...#.','...#..#...#...........#....#...','.....#..#....#..#.##...#.......','..##..#.......#.#..#....#......','...#...............#.#..#......','....#........#...#....#...#.#..','...#...#..........##....##.#...','..###.#.##.............#..#.#.#','##.......##.#..#.#.#.....#.#.#.','..#####...#......##...#........','...#.##...#................#..#','..#......#...#....#.#..##..#...','#.#.........#............#.....','##.............#.#.....#......#','....#.......#..#..##....#.#....','...#...##....#.........#..#....','...####.....#...........#....#.','#.#........##....#..#..#...#...','....#.#.###..........#........#','#.#......#.....#.##....#.#...#.','#....##.#..##..#.#.............','.#.....##..#..................#','...#.#........#...#.#........#.','..#....#......#.....##........#','....#...#....#...#.....#.##....','...#........#.......##.........','.#.##......#......#....##......','.#...#...###.#............#..#.','.#...........#.#.#....#...#..#.','.#.....#....#.....#...#........','.#..#.....#............#.#.##.#','...###.#.............#..##.....','...#.#.##.#..#..........#..#...','.#.#.#....#..#...............##','.......#.#..#...#.#.#........#.','....#.#...#..##....#........#.#','..........#...#.......#..#....#','...###.....#.#....#.....##.....','#......#..#..#........#.#...#..','#......#....#..#.#.............','...#....#........#...#..#......','...#..###........#.#.........##','#......#.#..###..#........###..','.#.#......#.#..#.#.#.#.....#..#','#....#.....#..##.....#.........','....#......#...#..#..#.#.##.#..','........#.#...#...#..#...#.#..#','.....##........#...#....#...#..','....#...##..#........#....##.#.','...............#.....#......##.','..##.....#.....#.#.............','.....#.#...........##.#.....#..','.#..##..#.##.#...##.#....#....#','.##.....#.##......#....#..#..#.','.......#.##......#....#...#.#..','.#........#......#...##.#....#.','.........#..........#.......###','#.#.........#..#..#....#...#...','.......#.........#......#.#.#..','.......#...........#....#....#.','.###...##.#.#..........#...#..#','....#.....#...#..#.............','.......##........#..#.......#..','....##..#.#....#....#..#...#..#','..#.####.....#.........#.#....#','..............#.#..#.....#...#.','.....#.............#..........#','..##.#...#.....#....#.#....##..','.#...#.......#..####..#..#...#.','#..........#................##.','......##.....#.................','..##...#.#..........##.#...#...','....#.#.#.#...##...#...#...####','.............##..#.###...#.....','#.#....#.#..#..##........#..##.','.....#.#...............#.......','...#..##......#..##...........#','#..#....#...........##..#......','.##....#.#....###.......#..#...','.....#..#.#....##...#......#...','.#.........#####......#...#...#','.......#.#.....#.....#.......#.','#....#.......###.......#..#....','#......##.###...#.......#......','.......#...#......#....#..#....','.#.####.......#...#.##.........','................##.#......#....','......##....#.#......#......#..','....##...##....#.........#.....','......#.#..............##.#...#','....#.#......#.#.............#.','.#.#..####...#................#','....#.#.#.#......##...##......#','.....#.#..#......#....#......#.','..........#.#.....#.......#...#','..##......##.#...##.#......#..#','...#............#..#...###.....','.#.#..###..#.......##...#.....#','.#....#.#.......#.....##....#..','#.............###...##.#.#...#.','#........#.#........#.#...#.#.#','##..#.................#....#...','...#.#...#..#.#..##....#...#...','#.....#.......#..............#.','.......###...##..#.....#.......','#.#.........#..#.#.........#...','.#.#............#.....##.....#.','........#....#....#.......#....','...#.#....#..#.##....#.#......#','.#.....#.#..#...........#.#.#..','#......#..#......##.#.#.#.#..#.','.......#.#..#......#.#.#..#.#.#','..........#...#..........#.##..','.#.#..####.......#..........#..','......#.#.....#..#..#..#.....#.','.....##..#.#.#..#..#...#.....##','............#.#....#.#....#....','..............#..#...#...#.....','.....#......#.......#.....#....','..##....#..#...........#..##...','###...#.##..#.#...####....###..','..#.#.....#.........#....#..###','##...........##.............#..','....##..............#.........#','...#...##....#.#..#...##.....#.','..#..##...#.......#..#..#.....#','...#...#....####........##.#...','....#........#..#.#.........#..','.#..........#...#..#.#.#......#','....#.#.....#.........#....#...','...#....#...##.......#...#.....','....#..#.......#.##.##.##...#..','##....##........#........##....','.#.#..#...........#.....#...#..','...#.##...##..#...#...##.......','.....#..###................#.#.','...#........##.#....##.....#.##','...#...#..##...#...#.#...#.....','.#......#...#..#.##.......#...#','.....#.......###.##...#........','#.....#..#........##.##.#.##..#','....#..............##.##...#...','#..........#..................#','..##.......#..........#..#..##.','.#....###.#..#.........###....#','.#....#.##..............#.##.##','.#.##.#....#.......#.#......#..','.#............#.#.....#........','..#......#.......#.............','#.#...#........##...#.#......#.','....#.........#........##..#...','..........##.....#.#......#....','.##.#..#....#.......#...#...##.','.#................#...#.##.....','....###.......#..#..#.........#','.#.....#..##...###......#.....#','.#.##..........#..#..#........#','.......#.##..............#...##','#...#.#.#.......#..#......#.##.','.#....#.#......#...#..........#','.....#........##....#.##.....#.','.#....................#..#.#.#.','.....#.........#....#.......#.#','.....#.#..##..#.....#..#.......','...#..#..#...#.....#....#....#.','#.....#.#.#..........#..#.#.#..','.....##..##.....#.#..#.........','#.#..##....##......##...#.##..#','..##..#.....#..#..........##...','......#.#...#..#.......##.....#','..#.#.......#.#......#.........','.....#........##..#.....####.#.','.#.....#........#.......#..##..','......#...#....#.##...#.......#','..##..................#..#.....','.....###.#..##...#.............','...##...##...#......#....#....#','#........#.#..........##..#....','#........#....#..........#...#.','...##.#.##..#...##......#......','#........##....#.#..##.....#..#','...####......#..#......#.#.....','.#......#...#...#.#.....##....#','.....###..##..#...#..........##','##.##....#...#.................','...##.#.......#.###......#..#..','.....#.#.#.......#.......#..#.#','#...#...#.##..#....###.......#.','.#.#..##.....#....#...##.......','.....#..........#....#...#.##..','..........#....#...#...........','.#....#..#...#...#.......#....#','#..#..............#.....####.##','.......#....###....#....#.#.#..','###.#........##.#.......#......','#..#...#..#......#.............','#...###..#...#..#..##.#.###.#..','..#..#...##......##............','.#..#.......#..###..##...#.....','....#..#..##.#.#.....##...#.#.#','....#....#.....#..#....#.......','..##..#....#.#...##..#.........','.....#....#...........#.#......','...#........#.#..#..#......#..#','.#...##....#....#.#.##......#.#','..#...........#..###.##.....#..','.#.######.#..##.......#..#.....','.....#..#......##.#.#...#......','....#....#..#.....#.......#.#.#','.....#........##.....#.....#.##','........#....#...#...#.#.#...#.','...#.#.....#...........#.....#.','#.#.#...###......#.....#.....#.','.#..........#.....#.......##...','#................#.#.....#.####','.#......#......#.#..##.#.##....','..........#....#...........###.','.##....#..####..#####..........','##.......##............#.....#.','...#.....#...#....#.......#....','.#....##......#.#...#....#.....','....#............##..........#.','.#....#....#.....#.#...........','.............##.#.##...#.#.#...','..#............#.#..##.#....##.','#.....#...##..........#.#.#...#','......#............#..........#','..##..#.....#........#.##..#..#','#..#.#..##.#.....##.#..........','#..#...#.#..#......##.......##.','.##......#...........##.....#..','...#.....#.....#..#....#.......','.....#...............#........#','.......#.....##..#..##..#.#.#..','#.#.....#..#..........##...#...','#..#......#.................#.#','.##...#....#...#...#.......#...','.#........##........#..........','........#..........#.........#.','.....#.##..#.......#........#..','..##..#..#...##..#.#....#......','......#........#.##.....#.#....','.#...#.#.........#..#.#.#.#..#.','.#..#.#...#............#.#..#..','....#.................#...#..##','.........##.....#.#.#......####','...............#....##.#.#.....','....##..#....#......#....#.....','....##.#...#....#.#..#...#..#..','..##......#.#..#........#.#.#..','.........#.#................##.','##.....#.....##..##.#........#.','###....#..#..#..#..#.##..##.#..','.....##..#...........##..#.#...','....#..#..#..#....#...#.#....#.','#....#............#..#....###..','....#..#.............#....##.#.','...#.................#...#.....','.##...#....#..#..#........#....','...#.#..#...#.#......#....#....','...#.......##..........#...#.#.','...##..#.......#........#...#..','.....#.#.#....#..##......##...#','....##......#........##....##..','..#..........#.#.##.....#......','..................#..#..#..###.','.#..............#.#..#.#..#.###','..#....#....#......#..##..#...#','#.........#..#..#...........#..'];
var x = 0;
var numberOfRows = allRows.length;
var rowLength = allRows[0].length;

//Part 1
/*
var trees = 0;
for (var i = 0; i < numberOfRows; i++){
    checkRow(i);
}
println("Number of Trees: " + trees);

function checkRow(i){
    if (x > rowLength - 1){
        x -= rowLength;
    }
    if (allRows[i].charAt(x) == '#') {
        trees++;
    }
    x += 3;
}
*/

//Part 2
var allHorizontalShifts = [1, 3, 5, 7, 1];
var allVerticalShifts = [1, 1, 1, 1, 2];
var allTrees = [0, 0, 0, 0, 0];

for (var h = 0; h < 5; h++){
    for (var i = 0; i < numberOfRows; i += allVerticalShifts[h]){
        checkRow2();
    }
    x = 0;
}

println(allTrees);
var product = 1;
for (var i = 0; i < 5; i++){
    product *= allTrees[i];
}
println("Product: " + product);

function checkRow2(){
    if (x > rowLength-1){
        x -= rowLength;
    }
    
    if (allRows[i].charAt(x) == '#') {
        allTrees[h]++;
    }

    x += allHorizontalShifts[h];
}
